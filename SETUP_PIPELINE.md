# Пайплайн настройки проекта Marketing Posts

## Предварительные требования

### Системные требования
- Python 3.10 или выше
- Git
- Доступ к интернету для загрузки зависимостей

### Проверка Python
```bash
python --version
# Должно быть 3.10 или выше
```

## Шаг 1: Клонирование репозитория

```bash
# Клонируем репозиторий
git clone https://github.com/Eselsmesse/Agent_marketing_stategy
cd marketing_strategy

# Проверяем, что мы в правильной директории
ls -la
# Должны увидеть файлы: pyproject.toml, README.md, src/ и т.д.
```

## Шаг 2: Настройка виртуального окружения

### Вариант A: Использование uv (рекомендуется)
```bash
# Устанавливаем uv (если не установлен)
pip install uv

# Создаем виртуальное окружение и устанавливаем зависимости
uv sync

# Активируем виртуальное окружение
source .venv/bin/activate  # Linux/macOS
# или
.venv\Scripts\activate     # Windows
```

### Вариант B: Использование venv
```bash
# Создаем виртуальное окружение
python -m venv .venv

# Активируем виртуальное окружение
source .venv/bin/activate  # Linux/macOS
# или
.venv\Scripts\activate     # Windows

# Устанавливаем зависимости
pip install -e .
```

## Шаг 3: Настройка переменных окружения

```bash
# Копируем пример файла окружения
cp env_example.txt .env

# Редактируем .env файл
# Добавляем необходимые API ключи и настройки
nano .env  # или любой другой редактор
```

## Шаг 4: Проверка установки

```bash
# Проверяем, что все модули импортируются корректно
python -c "import src.marketing_posts; print('✅ Модуль импортирован успешно')"

# Проверяем доступность команды
python -m src.marketing_posts.main --help
```

## Шаг 5: Запуск проекта

### Базовый запуск
```bash
# Запуск с базовой конфигурацией
python -m src.marketing_posts.main
```

### Запуск с игровой конфигурацией
```bash
# Запуск с игровой конфигурацией
python -m src.marketing_posts.main --config gaming
```

### Запуск с кастомными параметрами
```bash
# Запуск с указанием темы и количества постов
python -m src.marketing_posts.main --topic "AI технологии" --num_posts 3
```

## Шаг 6: Проверка результатов

```bash
# Проверяем созданные результаты
ls -la results/

# Просматриваем последний результат
ls -la results/$(ls -t results/ | head -1)
```

## Устранение неполадок

### Проблема: Ошибки импорта модулей
```bash
# Проверяем, что виртуальное окружение активировано
which python
# Должно показывать путь к .venv/bin/python

# Переустанавливаем зависимости
uv sync --reinstall
```

### Проблема: Отсутствуют API ключи
```bash
# Проверяем .env файл
cat .env

# Убеждаемся, что файл существует и содержит ключи
ls -la .env
```

### Проблема: Ошибки зависимостей
```bash
# Обновляем uv.lock
uv lock --upgrade

# Переустанавливаем зависимости
uv sync
```

### Проблема: Проблемы с правами доступа
```bash
# Проверяем права на директории
ls -la

# Исправляем права (если нужно)
chmod +x .venv/bin/python
```

## Дополнительные команды

### Разработка
```bash
# Установка dev зависимостей
uv sync --extra dev

# Запуск тестов
pytest

# Проверка кода
black src/
flake8 src/
mypy src/
```

### Обновление проекта
```bash
# Получаем последние изменения
git pull origin main

# Обновляем зависимости
uv sync

# Проверяем работоспособность
python -c "import src.marketing_posts; print('✅ Обновление прошло успешно')"
```

### Создание резервной копии
```bash
# Создаем бэкап результатов
tar -czf results_backup_$(date +%Y%m%d_%H%M%S).tar.gz results/

# Создаем бэкап конфигурации
cp .env .env.backup.$(date +%Y%m%d_%H%M%S)
```

## Структура проекта

```
marketing_strategy/
├── src/marketing_posts/          # Основной код
│   ├── config/                   # Конфигурации
│   ├── core/                     # Основная логика
│   ├── crews/                    # CrewAI команды
│   └── main.py                   # Точка входа
├── docs/                         # Документация
├── example_tools/                # Примеры инструментов
├── results/                      # Результаты выполнения
├── .env                          # Переменные окружения
├── .gitignore                    # Исключения Git
├── pyproject.toml               # Конфигурация проекта
├── uv.lock                      # Зафиксированные зависимости
└── README.md                    # Основная документация
```

## Контакты и поддержка

При возникновении проблем:
1. Проверьте логи в консоли
2. Убедитесь, что все API ключи настроены
3. Проверьте версию Python (должна быть 3.10+)
4. Убедитесь, что виртуальное окружение активировано

## Быстрый старт (для опытных пользователей)

```bash
# Минимальная настройка
git clone <URL>
cd marketing_strategy
uv sync
cp env_example.txt .env
# Отредактировать .env с API ключами
python -m src.marketing_posts.main
``` 